<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://java.sun.com/jstl/core">
<h:head>
    <title>User</title>

    <link type="text/css" href="../java1/css/text.css" rel="stylesheet"/>
    <link type="text/css" href="../java1/css/paper-dashboard.css" rel="stylesheet"/>

    <link type="text/css" href="../java1/css/themify-icons.css" rel="stylesheet"/>

    <link type="text/css" href="../java1/css/userStyle.css" rel="stylesheet"/>
    <link type="text/css" href="../java1/css/surcss.css" rel="stylesheet"/>

</h:head>
<h:body>
    <h:form>
        <div class="wrapper">
            <div class="sidebar" data-background-color="white" data-active-color="danger">
                <div class="sidebar-wrapper">
                    <div class="logo">
                        <h:commandLink action="#" value="Survey" class="simple-text"/>
                    </div>

                    <ul class="nav">
                        <li>
                            <a href="index.xhtml?faces-redirect=true">
                                <i class="ti-layout-grid2"></i>
                                <p>Questionnaire</p>
                            </a>
                        </li>
                        <!--<li>-->
                        <!--<a href="survey.xhtml?faces-redirect=true">-->
                        <!--<i class="ti-panel"></i>-->
                        <!--<p>All Survey</p>-->
                        <!--</a>-->
                        <!--</li>-->
                        <li class="active">
                            <a href="user.xhtml?faces-redirect=true">
                                <i class="ti-user"></i>
                                <p>User</p>
                            </a>
                        </li>
                        <li>
                            <a href="question.xhtml?faces-redirect=true">
                                <i class="ti-comment-alt"></i>
                                <p>Feedback</p>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="main-panel">
                <nav class="navbar navbar-default">
                    <div class="container-fluid">
                        <div class="collapse navbar-collapse">
                            <ul class="nav navbar-nav navbar-right">
                                <li>
                                    <a href="user.xhtml" class="dropdown-toggle" data-toggle="dropdown">
                                        <i class="ti-user"></i>
                                        <p>#{userDetailManagedBean.nickname}</p>
                                    </a>
                                </li>
                                <li>
                                    <h:commandLink action="#{userDetailManagedBean.userLogout()}">
                                        <i class="ti-settings"></i>
                                        <p>Log Out</p>
                                    </h:commandLink>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
                <div class="content">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-lg-4 col-md-5">
                                <div class="card card-user">
                                    <div class="image">
                                        <img src="../java1/img/background.jpg" alt="..."/>
                                    </div>
                                    <div class="content">
                                        <h:form>
                                            <div class="author">
                                                <img class="avatar border-white" src="../java1/img/face-2.jpg"
                                                     alt="..."/>
                                                <h4 class="title">#{userDetailManagedBean.nickname}<br/>
                                                    <a href="#">
                                                        <small>@#{userDetailManagedBean.name}</small>
                                                    </a>
                                                </h4>
                                            </div>
                                            <div style="margin:0px auto;">
                                                <h5 style="text-align: center">Selcet Your Batch:</h5>
                                                <div id="selectStyle">
                                                    <h:selectOneMenu id="batchChoose"
                                                                     value="#{participationManagedBean.batchId}">
                                                        <c:forEach
                                                                items="#{batchManagedBean.showElseBatch(userDetailManagedBean.userId)}"
                                                                var="batch">
                                                            <f:selectItem itemLabel="#{batch.batchName}"
                                                                          itemValue="#{batch.batchId}"/>
                                                        </c:forEach>
                                                    </h:selectOneMenu>
                                                </div>
                                            </div>
                                            <div class="text-center" style="margin-top: 10px">
                                                <h:commandButton
                                                        action="#{participationManagedBean.participateBatch(userDetailManagedBean.userId)}"
                                                        value="Join Batch"
                                                        class="btn btn-info btn-fill btn-wd"> </h:commandButton>
                                            </div>
                                        </h:form>
                                    </div>

                                </div>
                                <div class="card">

                                </div>
                            </div>
                            <div class="col-lg-8 col-md-7">
                                <div class="card">
                                    <div class="header">
                                        <h4 class="title">Edit Profile</h4>
                                    </div>
                                    <div class="content">
                                        <!--<h:form>-->

                                            <h:panelGrid columns="2" cellpadding="7.5">
                                                <div class="row">
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label for="nname"
                                                                   style="margin-left:15px;">Nickname</label>
                                                            <h:inputText id="nname" pt:placeholder="Nickname"
                                                                         required="true"
                                                                         class="form-control border-input"
                                                                         value="#{userDetailManagedBean.nickname}"/>
                                                        </div>
                                                    </div>

                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label for="rname">Realname</label>
                                                            <h:inputText id="rname" pt:placeholder="Real Name"
                                                                         required="true"
                                                                         class="form-control border-input"
                                                                         value="#{userDetailManagedBean.name}"/>
                                                        </div>
                                                    </div>

                                                    <!--<div class="col-md-6">-->
                                                    <!--<div class="form-group">-->
                                                    <!--<label for="birth">Brith</label>-->
                                                    <!--<h:inputText id="birth" required="true"-->
                                                    <!--value="#{userDetailManagedBean.birthYear}"-->
                                                    <!--pt:placeholder="Birth Date" pt:type="date"-->
                                                    <!--class="form-control border-input">-->
                                                    <!--<f:convertDateTime type="date" pattern="yyyy-mm-dd"/>-->
                                                    <!--</h:inputText>-->
                                                    <!--</div>-->
                                                    <!--</div>-->

                                                </div>

                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <div class="form-group">
                                                            <label for="mobile" style="margin-left:15px;">Phone</label>
                                                            <h:inputText id="mobile" required="true"
                                                                         value="#{userDetailManagedBean.mobile}"
                                                                         pt:placeholder="Phone Number"
                                                                         class="form-control border-input"/>
                                                        </div>
                                                    </div>

                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <label for="email">Email</label>
                                                            <h:inputText id="email" required="true"
                                                                         value="#{userDetailManagedBean.email}"
                                                                         pt:placeholder="Email"
                                                                         class="form-control border-input"/>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="col-md-5">
                                                    <div class="form-group">
                                                        <label for="pass">Password</label>
                                                        <h:inputSecret id="pass" pt:placeholder="Password"
                                                                       required="true"
                                                                       class="form-control border-input"
                                                                       value="#{userDetailManagedBean.password}"
                                                        />
                                                    </div>
                                                </div>

                                            </h:panelGrid>
                                            <div class="text-center">
                                                <h:commandButton action="#{userDetailManagedBean.userUpdate}"
                                                                 value="Update Profile"
                                                                 class="btn btn-info btn-fill btn-wd"/>
                                            </div>
                                            <div class="clearfix"></div>
                                        <!--</h:form>-->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </h:form>
</h:body>
</html>

