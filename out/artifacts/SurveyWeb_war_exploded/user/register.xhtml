<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>Facelet Title</title>
    <link type="text/css" href="../java1/css/style.css" rel="stylesheet"/>
    <script type="text/javascript">
        function checkpswd() {
            //获取密码，确认密码及确认密码后提示信息
            var pswd = document.getElementById("registerForm:pass");
            var repswd = document.getElementById("registerForm:cpass");
            var repasswd = document.getElementById("registerForm:repasswordMsg");

            //判断密码是否一致
            if (pswd.value !== repswd.value) {
                //设置提示信息为，密码不一致
                repasswd.style.color = "red";
                if (window.navigator.userAgent.toLowerCase().indexOf('firefox' != -1)) {
                    repasswd.textContent = "Wrong Password";
                } else {
                    repasswd.innerText = "Wrong Password";
                }
            } else {
                repasswd.innerText = null;
            }
        }
    </script>
</h:head>
<h:body>

    <div class="register-container">
        <h1>Register</h1>

        <div class="connect">
            <p>Welcome</p>
        </div>

        <h:form id="registerForm">
            <div>
                <h:inputText id="uid" class="inputText" value="#{userDetailManagedBean.username}"
                             pt:placeholder="Username" required="true"
                             requiredMessage="Enter ID" validatorMessage="Invalid ID Length">
                    <f:validateLength for="id" maximum="20" minimum="3"/></h:inputText>
                <h:message for="uid"/>
            </div>
            <div>
                <h:inputSecret id="pass" class="inputText" value="#{userDetailManagedBean.password}"
                               pt:placeholder="Password" required="true"
                               requiredMessage="Enter Password" validatorMessage="Invalid Password Length">
                    <f:validateLength for="id" maximum="20" minimum="3"/>
                </h:inputSecret>
                <h:message for="pass"/>
            </div>
            <div>
                <h:inputSecret id="cpass" class="inputText" pt:placeholder="Confrim Password" required="true"
                               requiredMessage="Please Confrim Password" onblur="checkpswd();">
                    <f:validateLength for="id" maximum="20" minimum="3"/>
                </h:inputSecret>
                <h:message id="repasswordMsg" for="cpass"/>
            </div>
            <div>
                <h:inputText id="rname" class="inputText" value="#{userDetailManagedBean.name}"
                             pt:placeholder="Real Name" required="true"
                             requiredMessage="Enter Name" validatorMessage="Name Cannot be More than 20 Characters">
                    <f:validateLength maximum="20" for="rname"/>
                </h:inputText>
                <h:message for="rname"/>
            </div>
            <div>
                <h:inputText id="mob" class="inputText" value="#{userDetailManagedBean.mobile}" required="true"
                             requiredMessage="Enter Mobile Number" pt:type="number"
                             validatorMessage="Invalid Phone Number Entered" pt:placeholder="Phone Number">
                    <!--<f:validateRegex pattern="1[3578][0-9]{9}" for="mob"/>-->
                    <f:validateLongRange minimum="13000000000" maximum="18999999999" for="mob"/>
                </h:inputText>
                <h:message for="mob"/>
            </div>
            <div>
                <h:inputText id="emile" class="inputText" value="#{userDetailManagedBean.email}" pt:placeholder="Email"
                             required="true"
                             requiredMessage="Enter Email" validatorMessage="Invalid Email Entered">
                    <!--<f:validateRegex pattern="" for="emile"/>-->
                </h:inputText>
                <h:message for="emile"/>
            </div>
            <div>
                <h:inputText class="inputText" value="#{userDetailManagedBean.birthYear}" pt:type="date"
                             pt:placeholder="Brithdate">
                    <f:convertDateTime type="date" pattern="yyyy-mm-dd"/>
                </h:inputText>
            </div>
            <div>
                <h:inputText id="nname" class="inputText" value="#{userDetailManagedBean.nickname}"
                             pt:placeholder=" Nick Name" required="true"
                             requiredMessage="Enter Name" validatorMessage="Name Cannot be More than 20 Characters">
                    <f:validateLength maximum="20" for="nname"/>
                </h:inputText>
                <h:message for="nname"/>
            </div>

            <h:commandButton class="cbutton" value="Create Account"
                             action="#{userDetailManagedBean.userRegister}"></h:commandButton>
        </h:form>
        <a href="login.xhtml">
            <button type="button" class="register-tis">Allready have an account?</button>
        </a><br/><br/><br/>

        <script src="../java1/js/jquery.min.js"></script>

        <!--背景图片自动更换-->

        <script src="../java1/js/supersized.3.2.7.min.js"></script>

        <script src="../java1/js/supersized-init.js"></script>

    </div>
</h:body>
</html>

